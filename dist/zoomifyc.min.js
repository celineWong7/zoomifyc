/*! Zoomifyc - v0.1.1 - https://github.com/celineWong7/zoomifyc - (c) 2020 Wang Xiaolin - MIT */

var zoomifyc={};zoomifyc={curImage:null,curIndex:0,allImage:null,_zoomed:!1,rotate:0,init:function(o){zoomifyc.createWrap(),(zoomifyc.allImage=o).addClass("zoomifyc").on("click",function(o){zoomifyc.curImage=$(this),zoomifyc.curIndex=zoomifyc.allImage.index(zoomifyc.curImage),zoomifyc.showWrap(zoomifyc.curImage.attr("src"))}),$(window).on("resize",function(){zoomifyc.reposition()}),$(document).on("scroll",function(){zoomifyc.reposition()}),$(window).on("keyup",function(o){27==o.keyCode&&zoomifyc.hideWrap()})},reset:function(){zoomifyc._zoomed=!1,zoomifyc.rotate=0,zoomifyc.rotateCss()},createWrap:function(){if(!(0<$("#zoomifycWrap").length)){var o=$('<div id="zoomifycWrap" style="display:none;"></div>'),i=$('<div class="zoomifyc-shadow"></div>'),c=$('<div class="zoomifyc-content"></div>'),A=$('<span class="zoomifyc-close">x</span>'),t=$('<div class="zoomifyc-switch"></div>'),e=$('<span class="prev">&lt;</span>'),a=$('<span class="next">&gt;</span>'),n=$('<div class="zoomifyc-imgbox"></div>'),m=$('<img class="zoomifyc-img" src="" >');$tools=$('<div class="zoomifyc-tools"></div>'),$leftRotate=$('<span class="left-rotate" title="左旋90°"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABJUlEQVQ4y6WRsSuEcRjHP897KEqmK5NSJ4tISdkswmJQJhOjyWJisZoNyj8gpbNYLP4Hug2L4VJM5wYpH4M3vXfdubv3vuPzfJ/P7/k+P+ggdbiTp6PUO3VPHegHcu+vKupaL4OJupRuULVRF+pg1p80DYe6C9wCy8Az8JGxlIGjiPhq9/qQeqnuZ/OncSrqSjcRztXVFvWNro6qrqvHua+fQq7V0bzziVoEahFRyw0BZoCHfpIkwAiN35gL8gqM5xlWD9XFJI0ym3OJBaCSRMQn8KaWetxiEqhHRP2voJbVQpeAUK/UqebGlnrWCaQW1FN1u51hU71R59v059L+TrYeLYwTwAEwDTwC78AYUAKegJOIePkXks3N79cXU1A1Ir5beX8AuajeueMcwmIAAAAASUVORK5CYII="></span>'),$rightRotate=$('<span class="right-rotate" title="右旋90°"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAUCAYAAABroNZJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAsSAAALEgHS3X78AAABJUlEQVQ4y6WRsSuEcRjHP897KEqmK5NSJ4tISdkswmJQJhOjyWJisZoNyj8gpbNYLP4Hug2L4VJM5wYpH4M3vXfdubv3vuPzfJ/P7/k+P+ggdbiTp6PUO3VPHegHcu+vKupaL4OJupRuULVRF+pg1p80DYe6C9wCy8Az8JGxlIGjiPhq9/qQeqnuZ/OncSrqSjcRztXVFvWNro6qrqvHua+fQq7V0bzziVoEahFRyw0BZoCHfpIkwAiN35gL8gqM5xlWD9XFJI0ym3OJBaCSRMQn8KaWetxiEqhHRP2voJbVQpeAUK/UqebGlnrWCaQW1FN1u51hU71R59v059L+TrYeLYwTwAEwDTwC78AYUAKegJOIePkXks3N79cXU1A1Ir5beX8AuajeueMcwmIAAAAASUVORK5CYII="></span>'),n.append(A,m),t.append(e,a),$tools.append($leftRotate,$rightRotate),c.append(t,$tools,n),o.append(i,c),$("body").append(o),i.on("click",function(){zoomifyc.hideWrap()}),A.on("click",function(){zoomifyc.hideWrap()}),e.on("click",function(){0!=zoomifyc.curIndex&&zoomifyc.allImage.eq(zoomifyc.curIndex-1).trigger("click")}),a.on("click",function(){zoomifyc.curIndex!=zoomifyc.allImage.length-1&&zoomifyc.allImage.eq(zoomifyc.curIndex+1).trigger("click")}),$leftRotate.on("click",function(){zoomifyc.rotate-=90,zoomifyc.rotateCss()}),$rightRotate.on("click",function(){zoomifyc.rotate+=90,zoomifyc.rotateCss()})}},hideWrap:function(){$("#zoomifycWrap").hide(),$("#zoomifycWrap .zoomifyc-img").attr("src","")},showWrap:function(o){zoomifyc.reset(),zoomifyc._zoomed=!0,$("#zoomifycWrap").show(),$("#zoomifycWrap .zoomifyc-img").attr("src",o),zoomifyc.calSizeAndPosition(),0==zoomifyc.curIndex?$(".zoomifyc-switch .prev").hide():$(".zoomifyc-switch .prev").show(),zoomifyc.curIndex==zoomifyc.allImage.length-1?$(".zoomifyc-switch .next").hide():$(".zoomifyc-switch .next").show()},reposition:function(){zoomifyc._zoomed&&zoomifyc.calSizeAndPosition()},calSizeAndPosition:function(){var o=zoomifyc.curImage,i=o[0].naturalWidth||1/0,c=o[0].naturalHeight||1/0,A=$(window).width(),t=$(window).height(),e=Math.min(i,.95*A),a=Math.min(c,.95*t);scaleX=e/i,scaleY=a/c,scale=Math.min(scaleX,scaleY),zoomifyc.setCss("scale("+scale+")",i*scale,c*scale)},setCss:function(o,i,c){$("#zoomifycWrap .zoomifyc-imgbox").css({width:i,height:c}),$("#zoomifycWrap .zoomifyc-img").css({"-webkit-transform":o,"-moz-transform":o,"-ms-transform":o,"-o-transform":o,transform:o,"transform-origin":"0 0"}),$("#zoomifycWrap .zoomifyc-content").css({height:$(window).height(),top:$(document).scrollTop()})},rotateCss:function(){console.log(zoomifyc.rotate);var o="rotate("+zoomifyc.rotate+"deg)";$("#zoomifycWrap .zoomifyc-imgbox").css({"-webkit-transform":o,"-moz-transform":o,"-ms-transform":o,"-o-transform":o,transform:o,"transform-origin":"center center"})}};