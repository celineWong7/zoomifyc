/*! Zoomifyc - v0.1.0 - https://github.com/celineWong7/zoomifyc - (c) 2020 Wang Xiaolin - MIT */

var zoomifyc={};zoomifyc={curImage:null,curIndex:0,allImage:null,_zoomed:!1,init:function(o){zoomifyc.createWrap(),(zoomifyc.allImage=o).addClass("zoomifyc").on("click",function(o){zoomifyc.curImage=$(this),zoomifyc.curIndex=zoomifyc.allImage.index(zoomifyc.curImage),zoomifyc.showWrap(zoomifyc.curImage.attr("src"))}),$(window).on("resize",function(){zoomifyc.reposition()}),$(document).on("scroll",function(){zoomifyc.reposition()}),$(window).on("keyup",function(o){27==o.keyCode&&zoomifyc.hideWrap()})},createWrap:function(){if(!(0<$("#zoomifycWrap").length)){var o=$('<div id="zoomifycWrap" style="display:none;"></div>'),i=$('<div class="zoomifyc-shadow"></div>'),c=$('<div class="zoomifyc-content"></div>'),n=$('<span class="zoomifyc-close">x</span>'),m=$('<div class="zoomifyc-switch"></div>'),a=$('<span class="prev">&lt;</span>'),e=$('<span class="next">&gt;</span>'),s=$('<div class="zoomifyc-imgbox"></div>'),f=$('<img class="zoomifyc-img" src="" >');s.append(n,f),m.append(a,e),c.append(m,s),o.append(i,c),$("body").append(o),i.on("click",function(){zoomifyc.hideWrap()}),n.on("click",function(){zoomifyc.hideWrap()}),a.on("click",function(){0!=zoomifyc.curIndex&&zoomifyc.allImage.eq(zoomifyc.curIndex-1).trigger("click")}),e.on("click",function(){zoomifyc.curIndex!=zoomifyc.allImage.length-1&&zoomifyc.allImage.eq(zoomifyc.curIndex+1).trigger("click")})}},hideWrap:function(){zoomifyc._zoomed=!1,$("#zoomifycWrap").hide(),$("#zoomifycWrap .zoomifyc-img").attr("src","")},showWrap:function(o){zoomifyc._zoomed=!0,$("#zoomifycWrap").show(),$("#zoomifycWrap .zoomifyc-img").attr("src",o),zoomifyc.calSizeAndPosition(),0==zoomifyc.curIndex?$(".zoomifyc-switch .prev").hide():$(".zoomifyc-switch .prev").show(),zoomifyc.curIndex==zoomifyc.allImage.length-1?$(".zoomifyc-switch .next").hide():$(".zoomifyc-switch .next").show()},reposition:function(){zoomifyc._zoomed&&zoomifyc.calSizeAndPosition()},calSizeAndPosition:function(){var o=zoomifyc.curImage,i=o[0].naturalWidth||1/0,c=o[0].naturalHeight||1/0,n=$(window).width(),m=$(window).height(),a=Math.min(i,.95*n),e=Math.min(c,.95*m);scaleX=a/i,scaleY=e/c,scale=Math.min(scaleX,scaleY),zoomifyc.setCss("scale("+scale+")",i*scale,c*scale)},setCss:function(o,i,c){$("#zoomifycWrap .zoomifyc-imgbox").css({width:i,height:c}),$("#zoomifycWrap .zoomifyc-img").css({"-webkit-transform":o,"-moz-transform":o,"-ms-transform":o,"-o-transform":o,transform:o,"transform-origin":"0 0"}),$("#zoomifycWrap .zoomifyc-content").css({height:$(window).height(),top:$(document).scrollTop()})}};